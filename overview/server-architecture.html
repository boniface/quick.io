<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Server Architecture &mdash; QuickIO 0.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="QuickIO 0.2 documentation" href="../index.html" />
    <link rel="up" title="Overview of QuickIO" href="index.html" />
    <link rel="next" title="Client Architecture" href="client-architecture.html" />
    <link rel="prev" title="Programming with a QuickIO Client" href="programming-with-a-client.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="client-architecture.html" title="Client Architecture"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="programming-with-a-client.html" title="Programming with a QuickIO Client"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">QuickIO 0.2 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Overview of QuickIO</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="server-architecture">
<h1>Server Architecture<a class="headerlink" href="#server-architecture" title="Permalink to this headline">¶</a></h1>
<p>QuickIO is broken into 5 components:</p>
<div class="section" id="clients">
<h2>Clients<a class="headerlink" href="#clients" title="Permalink to this headline">¶</a></h2>
<p>Clients are the individual instances of some object sitting out on a client computer that is attempting to talk to the server. A single client may hold many subscriptions, many server-callbacks, and incomplete messages (coming off the wire). Each client and all its state exists only as long as the session with the server is maintained in accordance with the underlying protocol. Once that session is lost, all state of the client on the server is lost, and the client will need to setup its state again with the server. The general philosophy is: to the server, a client is just some event subscriptions and server-callbacks, as soon as that client is gone, all of the data is useless and cannot be associated with any other client. That being said, clients can maintain a list of subscriptions and re-subscribe to everything on reconnect.</p>
<p>All clients, as far as the server is concerned, may be hurled from server to server at any given moment without any ill effect. Client applications should be designed such that a server disconnect doesn&#8217;t mean the end for the client: once reconnected, the client should resume its normal operation as though everything is going as planned.</p>
</div>
<div class="section" id="protocols">
<h2>Protocols<a class="headerlink" href="#protocols" title="Permalink to this headline">¶</a></h2>
<p>Though QuickIO is primarily a WebSocket server, it allows other types of clients to connect, be they mobile devices, other servers, or even <a class="reference external" href="http://www.strangehorizons.com/2004/20040405/badger.shtml">badgers</a>. Each client may speak to the server in different ways, depending on how they&#8217;re feeling, the alignment of the planets, or the laziness of their programmer; thus, QuickIO has a concept of protocols. Each client has an associated protocol, and that protocol is responsible for decoding events sent to the server and framing events to the client so that, when the client receives the event, it is capable of decoding and processing it.</p>
<p>Since clients may communicate with the server over HTTP, WebSocket, or any other future protocols, it&#8217;s impossible to tie a client to a single socket. Each client is bound to some underlying socket by the providers that are running on the server. For WebSocket clients, they are bound to a single socket, and data can flow at will in either direction. For HTTP clients, they are bound only temporarily to a socket while an HTTP request is active.</p>
</div>
<div class="section" id="applications">
<h2>Applications<a class="headerlink" href="#applications" title="Permalink to this headline">¶</a></h2>
<p>Applications are the core of what runs on every server in a cluster. They are typically what developers will be implementing to get their own functionality into the server and work in the same way that any HTTP application would: when a client sends a &#8220;request&#8221; (in the QuickIO case, an event), a handler for the request will be invoked. Applications are just a way of compartmentalizing a bunch of similar events.</p>
<p>Applications may be written in C/C++, Python, JavaScript, or any other language that has a C/C++ interface.</p>
</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p>Everything that passes through QuickIO to an application, to an event handler, or from a subscription to a client, is an event. Events are formatted uniquely based on their protocols, but at the end of the day, they consist of three parts: an event path, a callback ID, and any data to be given to the event handler. When an event comes from a client, the event handler is looked up and given the data that the client sent.</p>
</div>
<div class="section" id="quick-event">
<h2>quick-event<a class="headerlink" href="#quick-event" title="Permalink to this headline">¶</a></h2>
<p>The server is built on top of a statically-routed, event-driven framework called &#8220;quick-event&#8221;. Originally, all of the socket code and everything was part of QIO, but it became too complicated to maintain in the same project, and it was broken into quick-event. Quick-event provides tons of useful data structures, high-optimized buffers, monitoring, benchmarking, resource polling, and a bunch of other really awesome stuff. At its core, though, it&#8217;s a thread-agnostic event loop on top of the network layer that uses minimal locking.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Server Architecture</a><ul>
<li><a class="reference internal" href="#clients">Clients</a></li>
<li><a class="reference internal" href="#protocols">Protocols</a></li>
<li><a class="reference internal" href="#applications">Applications</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#quick-event">quick-event</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="programming-with-a-client.html"
                        title="previous chapter">Programming with a QuickIO Client</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="client-architecture.html"
                        title="next chapter">Client Architecture</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/overview/server-architecture.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="client-architecture.html" title="Client Architecture"
             >next</a> |</li>
        <li class="right" >
          <a href="programming-with-a-client.html" title="Programming with a QuickIO Client"
             >previous</a> |</li>
        <li><a href="../index.html">QuickIO 0.2 documentation</a> &raquo;</li>
          <li><a href="index.html" >Overview of QuickIO</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2014 Clear Channel Inc. Released under the MIT License..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>